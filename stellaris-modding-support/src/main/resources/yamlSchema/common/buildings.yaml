definitions:
  # 建筑
  building:
    type: object
    properties:
      base_buildtime:
        $ref: "../core.yaml/#/definitions/int"
      base_cap_amount:
        optional: true
        $ref: "../core.yaml/#/definitions/int"
      capital:
        $ref: "../core.yaml/#/definitions/boolean"
      can_build:
        $ref: "../core.yaml/#/definitions/boolean"
      can_demolish:
        $ref: "../core.yaml/#/definitions/boolean"
      can_be_ruined:
        $ref: "../core.yaml/#/definitions/boolean"
      can_be_disabled:
        $ref: "../core.yaml/#/definitions/boolean"
      category:
        $ref: "#/definitions/building_category"
      potential:
        $ref: "../core.yaml/#/definitions/conditions"
      convert_to:
        type: array
        items:
          $ref: "../core.yaml/#/definitions/building"
      planet_modifier:
        $ref: "../core.yaml/#/definitions/modifier"
      destroy_trigger:
        $ref: "../core.yaml/#/definitions/conditions"
      allow:
        $ref: "../core.yaml/#/definitions/conditions"
      # anyOf
      triggered_plant_modifier:
        $ref: "../core.yaml/#/definitions/triggered_modifier"
      resources:
        $ref: "../core.yaml/#/definitions/resource"
      upgrades:
        type: array
        items:
          $ref: "../core.yaml/#/definitions/building"
      prerequisites:
        type: array
        items:
          $ref: "../core.yaml/#/definitions/building"
      # anyOf
      triggered_desc:
        $ref: "../core.yaml/#/definitions/triggered_desc"
      on_queued:
        $ref: "../core.yaml/#/definitions/effects"
      on_unqueued:
        $ref: "../core.yaml/#/definitions/effects"
      on_built:
        $ref: "../core.yaml/#/definitions/effects"
      on_destroy:
        $ref: "../core.yaml/#/definitions/effects"
      ai_weight:
        $ref: "../core.yaml/#/definitions/weight_modifier"
  building_category:
    type: string
    enum:
    - government
    - planet_buildings
    - pop_assembly
    - resource
    - manufacturing
    - research
    - trade
    - amenity
    - unity
    - army

type: object
additionalProperties:
  $ref: "#/definitions/building"
